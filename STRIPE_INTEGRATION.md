# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Stripe –∏ Telegram –¥–ª—è RoDaSoleil Shop

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã Stripe –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π Telegram –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Stripe Checkout –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏–∑ Sanity CMS —Å–æ Stripe
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –ø—Ä–∏ –∑–∞–∫–∞–∑–∞—Ö
- ‚úÖ Webhook –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞–ª—é—Ç (EUR –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- ‚úÖ –°–±–æ—Ä –∞–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü—ã —É—Å–ø–µ—à–Ω–æ–π –∏ –æ—Ç–º–µ–Ω–µ–Ω–Ω–æ–π –æ–ø–ª–∞—Ç—ã

## üìã –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

### 1. Stripe Account Setup

1. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ [Stripe Dashboard](https://dashboard.stripe.com)
2. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á–∏:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Developers** ‚Üí **API keys**
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Publishable key** (pk_test_... –∏–ª–∏ pk_live_...)
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Secret key** (sk_test_... –∏–ª–∏ sk_live_...)

### 2. Telegram Bot Setup

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather):
   ```
   /newbot
   ```
   –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

2. –ü–æ–ª—É—á–∏—Ç–µ Chat ID:
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–∞—à–µ–º—É –±–æ—Ç—É
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [@userinfobot](https://t.me/userinfobot) –∏–ª–∏ [@getidsbot](https://t.me/getidsbot)
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤–∞—à Chat ID

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
```bash
npm install stripe @stripe/stripe-js
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env.local` (–∏–ª–∏ `.env`):
```bash
cp .env.example .env.local
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
# Sanity Configuration
NEXT_PUBLIC_SANITY_PROJECT_ID=your_project_id
NEXT_PUBLIC_SANITY_DATASET=production
SANITY_API_TOKEN=your_sanity_token

# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_chat_id

# Application URLs
NEXT_PUBLIC_BASE_URL=http://localhost:3000
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã Sanity

–°—Ö–µ–º–∞ –ø—Ä–æ–¥—É–∫—Ç–∞ —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤ `sanity/schemaTypes/product.ts` —Å –ø–æ–ª—è–º–∏:
- `stripeProductId` - ID –ø—Ä–æ–¥—É–∫—Ç–∞ –≤ Stripe
- `stripePriceId` - ID —Ü–µ–Ω—ã –≤ Stripe

–≠—Ç–∏ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

## üöÄ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å–æ Stripe

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API endpoint –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

```bash
# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
curl -X POST http://localhost:3000/api/sync-stripe \
  -H "Content-Type: application/json" \
  -d '{"syncAll": true}'

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞
curl -X POST http://localhost:3000/api/sync-stripe \
  -H "Content-Type: application/json" \
  -d '{"productId": "product-id-from-sanity"}'
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

1. –°–æ–∑–¥–∞–µ—Ç—Å—è –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–¥—É–∫—Ç –≤ Stripe
2. –°–æ–∑–¥–∞–µ—Ç—Å—è —Ü–µ–Ω–∞ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∞ (–≤ EUR)
3. ID –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ —Ü–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Sanity
4. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ü–µ–Ω—ã —Å—Ç–∞—Ä–∞—è –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è

## üõí –ü—Ä–æ—Ü–µ—Å—Å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞

### –ü–æ—Ç–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É** (`/catalog`)
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É
   - –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage

2. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è** (`/checkout`)
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–≤–æ–¥–∫–∞ –∑–∞–∫–∞–∑–∞
   - –ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ"

3. **Stripe Checkout**
   - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É Stripe
   - –í–≤–æ–¥ –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –°–±–æ—Ä –∞–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

4. **–†–µ–∑—É–ª—å—Ç–∞—Ç**
   - **–£—Å–ø–µ—Ö**: `/checkout/success` + —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
   - **–û—Ç–º–µ–Ω–∞**: `/checkout/cancel`

## üì° –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Webhook –≤ Stripe Dashboard

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Stripe Webhooks](https://dashboard.stripe.com/webhooks)
2. –ù–∞–∂–º–∏—Ç–µ **Add endpoint**
3. –í–≤–µ–¥–∏—Ç–µ URL: `https://your-domain.com/api/webhooks/stripe`
4. –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–±—ã—Ç–∏—è:
   - `checkout.session.completed`
   - `payment_intent.succeeded`
   - `payment_intent.payment_failed`
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Signing secret** (whsec_...)
6. –î–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ `.env` –∫–∞–∫ `STRIPE_WEBHOOK_SECRET`

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Webhook –ª–æ–∫–∞–ª—å–Ω–æ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Stripe CLI –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Stripe CLI
# https://stripe.com/docs/stripe-cli

# –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å
stripe login

# –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤—å—Ç–µ —Å–æ–±—ã—Ç–∏—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
stripe listen --forward-to localhost:3000/api/webhooks/stripe

# –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–æ–±—ã—Ç–∏—è
stripe trigger checkout.session.completed
```

## üì± –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram

### –§–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:

–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–∫–∞–∑–µ –≤ Telegram –ø—Ä–∏–¥–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:

```
üéâ –ù–æ–≤—ã–π –∑–∞–∫–∞–∑!

üìã ID —Å–µ—Å—Å–∏–∏: cs_test_...

üë§ –ö–ª–∏–µ–Ω—Ç: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤
üìß Email: ivan@example.com
üì± –¢–µ–ª–µ—Ñ–æ–Ω: +359123456789

üí∞ –°—É–º–º–∞: 89.99 EUR

üì¶ –¢–æ–≤–∞—Ä—ã:
1. –ö—É–ø–∞–ª—å–Ω–∏–∫ "–°–æ–ª–Ω—Ü–µ" (x1) - –†–∞–∑–º–µ—Ä: M - –¶–≤–µ—Ç: –ö—Ä–∞—Å–Ω—ã–π
2. –ü–∞—Ä–µ–æ (x2) - –†–∞–∑–º–µ—Ä: One Size

üìç –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏:
—É–ª. –í–∏—Ç–æ—à–∞ 123
–°–æ—Ñ–∏—è, 1000
Bulgaria
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã Stripe:

- **–£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞**: `4242 4242 4242 4242`
- **–¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: `4000 0025 0000 3155`
- **–û—Ç–∫–ª–æ–Ω–µ–Ω–∞**: `4000 0000 0000 9995`

**–î–∞—Ç–∞**: –ª—é–±–∞—è –±—É–¥—É—â–∞—è –¥–∞—Ç–∞
**CVC**: –ª—é–±—ã–µ 3 —Ü–∏—Ñ—Ä—ã
**–ü–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å**: –ª—é–±–æ–π

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

1. **–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–¥—É–∫—Ç –≤ –∫–æ—Ä–∑–∏–Ω—É**
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é** `/checkout`
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∫–∞—Ä—Ç—É** `4242 4242 4242 4242`
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**:
   - –£—Å–ø–µ—à–Ω–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ `/checkout/success`
   - –û—á–∏—Å—Ç–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
   - –°–æ–±—ã—Ç–∏–µ –≤ Stripe Dashboard

## üåê –î–µ–ø–ª–æ–π –Ω–∞ Production

### 1. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```env
# Production Stripe keys
STRIPE_SECRET_KEY=sk_live_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_...

# Production URL
NEXT_PUBLIC_BASE_URL=https://rodasoleil.bg

# Production Webhook Secret
STRIPE_WEBHOOK_SECRET=whsec_live_...
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Webhook –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π endpoint –≤ Stripe Dashboard
2. URL: `https://rodasoleil.bg/api/webhooks/stripe`
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ –∂–µ —Å–æ–±—ã—Ç–∏—è
4. –û–±–Ω–æ–≤–∏—Ç–µ `STRIPE_WEBHOOK_SECRET`

### 3. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã:

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é:
```bash
curl -X POST https://rodasoleil.bg/api/sync-stripe \
  -H "Content-Type: application/json" \
  -d '{"syncAll": true}'
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Stripe Dashboard:
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–ª–∞—Ç–µ–∂–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –ª–æ–≥–∏ webhook
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –º–µ—Ç—Ä–∏–∫–∏

### Telegram:
- –ü–æ–ª—É—á–∞–π—Ç–µ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–∫–∞–∑–∞—Ö
- –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ –∏ –∑–∞–∫–∞–∑–µ –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ** `.env` —Ñ–∞–π–ª—ã
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** –¥–ª—è webhook –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ–¥–ø–∏—Å–∏** webhook (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
4. **–•—Ä–∞–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏** –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ test keys** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Webhook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL webhook –≤ Stripe Dashboard
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `STRIPE_WEBHOOK_SECRET` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞: `console.log` –≤ `/api/webhooks/stripe`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Stripe CLI –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `TELEGRAM_BOT_TOKEN` –∏ `TELEGRAM_CHAT_ID`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

### –ü—Ä–æ–¥—É–∫—Ç—ã –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `STRIPE_SECRET_KEY`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–¥—É–∫—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ Sanity
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ URL)
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –æ—Ç–≤–µ—Ç API `/api/sync-stripe`

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Stripe Documentation](https://stripe.com/docs)
- [Stripe Checkout](https://stripe.com/docs/payments/checkout)
- [Stripe Webhooks](https://stripe.com/docs/webhooks)
- [Telegram Bot API](https://core.telegram.org/bots/api)

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à –º–∞–≥–∞–∑–∏–Ω —Ç–µ–ø–µ—Ä—å –≥–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–ª–∞—Ç–µ–∂–∏ —á–µ—Ä–µ–∑ Stripe –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram!

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö:
- `lib/stripe.ts` - —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–æ Stripe
- `lib/telegram.ts` - —Ñ—É–Ω–∫—Ü–∏–∏ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `app/api/checkout/route.ts` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –æ–ø–ª–∞—Ç—ã
- `app/api/webhooks/stripe/route.ts` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ webhook
- `app/[locale]/checkout/page.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
